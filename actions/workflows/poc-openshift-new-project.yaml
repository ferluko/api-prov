version: 1.0
description: A basic workflow that creates an Openshift new project.
input:
  - payload
tasks:
  ocp-new-project:
    action: kubernetes.createCoreV1Namespace
    payload: <% $.payload %>
    next:
      - when: <% succeeded() %>
        publish:
          - stdout: <% result().stdout %>
          - stderr: <% result().stderr %>
        #do: update-snow-incident
  #update-snow-incident:
    #action: servicenow.
  
output:
  - stdout: <% ctx(stdout) %>
